# Region-specific evaluation configuration
# Enables detailed analysis of model performance across antibody regions

# Enable region-specific evaluation (enabled by default)
enabled: true

# Evaluation mode:
# - "standard": Uses existing eval masking, computes metrics on masked positions in regions (fast, default)
# - "per_position": Mask one position at a time, aggregate by region (most detailed, slow)
# - "region_level": Mask entire regions at once (tests region reconstruction)
mode: "per-position"

# Regions to include in evaluation
# null = all regions, or specify a list:
# ["hcdr1", "hcdr2", "hcdr3", "lcdr1", "lcdr2", "lcdr3",
#  "hfwr1", "hfwr2", "hfwr3", "hfwr4", "lfwr1", "lfwr2", "lfwr3", "lfwr4"]
include: ["hcdr3", "lcdr3"]

# Batch size for per-position evaluation
# Higher values = faster but more memory
position_batch_size: 32

# Aggregation strategies for results
# - "all": Individual regions (hcdr1_accuracy, hcdr2_accuracy, ...)
# - "cdr": CDRs vs frameworks (cdr_accuracy, fwr_accuracy)
# - "fwr": Same as "cdr" (alias)
# - "chain": Heavy vs light (heavy_accuracy, light_accuracy)
# - "region_type": By CDR/FWR number across chains (cdr1_accuracy, cdr2_accuracy, fwr1_accuracy, ...)
aggregate:
  - all
